#!/usr/bin/perl
use warnings;
use strict;
use CGI qw(:standard);
use Data::Dumper;
use Template::Alloy;
use FindBin;
use DBI;
use base qw(CGI::Ex::App);
use CGI::Ex::Dump qw(debug);
use CGI::Ex::Auth;



__PACKAGE__->navigate;

sub template_path { '/home4/gpeerybl/public_html/ourscene' }
sub base_dir_rel  { 'tt' }
sub name_module   { 'admin' }

our $base_path = $FindBin::RealBin;

sub require_auth {
    my $self = shift;
    my $script_name = $self->script_name;
    return 1 if $self->auth_user;
    return 0 if $ENV{'REQUEST_URI'} =~ /^$script_name\/admin/;
    return 1;
}

sub main_hash_swap {
    my $self = shift;
    return {
    };
}

sub main_finalize{
    my $self = shift;
    $self->append_path('admin');
    $self->set_ready_validate(0);
    $self->goto_step(1);
    return 1;

}
